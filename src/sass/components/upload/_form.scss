.upload-form {
  label {
    text-transform: uppercase;
  }

  .custom-control-label {
    text-transform: capitalize;
  }

  textarea {
    &::-webkit-resizer {
      background: url("data:image/svg+xml,%3Csvg height='8' viewBox='0 0 8 8' width='8' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='m677 119v6.001899c0 1.103521-.886706 1.998101-1.998101 1.998101h-6.001899z' fill='%23ced0da' fill-rule='evenodd' transform='translate(-669 -119)'/%3E%3C/svg%3E");
      background-repeat: no-repeat;
      background-size: 8px;
    }
  }

  hr {
    margin: 0 0 30px;
    background-color: $athens-gray;
    opacity: 0.5;
  }

  .form-control {
    &::placeholder {
      opacity: 0.5;
    }
  }

  input[type="text"].form-control:valid {
    border-color: $shamrock;
    background-image: url("data:image/svg+xml,%3Csvg height='9' viewBox='0 0 12 9' width='12' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='m676.922 47.707-2.751-2.652-1.171 1.137 3.922 3.808 8.078-7.844-1.171-1.156z' fill='%2329cc8b' fill-rule='evenodd' transform='translate(-673 -41)'/%3E%3C/svg%3E");
    background-position: calc(100% - 15px);
    background-repeat: no-repeat;
  }

  .input-group-text {
    border-left: none;
  }

  .form-row--special {
    padding: 0 15px;
  }

  .form-group {
    &--long {
      margin-right: -20px;
    }
  }

  .form-col {
    padding: 0 5px;

    .col &:first-of-type {
      margin-left: 15px;
    }
    .col &:last-of-type {
      margin-right: 15px;
    }

    label {
      flex-basis: 100%;
    }

    .form-group {
      position: relative;
      align-items: center;
      display: flex;
      flex-wrap: wrap;

      input[type="text"].form-control:valid {
        background-image: none;
      }
    }

    .form-control {
      display: inline-block;
      padding-right: 45px;

      @include media-breakpoint-down(lg) {
        padding-right: 40px;
      }
    }

    .input-group {
      &-append {
        position: absolute;
        display: inline-block;
        margin-left: -3px;
        right: 3px;
        bottom: 3px;
      }

      &-text {
        padding: 5px;
        background-color: transparent;
        border: 0;
        position: relative;
        color: transparentize($color: $secondary, $amount: 0.5);

        &::before {
          content: "";
          position: absolute;
          width: 1px;
          height: 30px;
          left: 0px;
          background-color: $athens-gray;
        }
      }
    }
  }

  .custom {
    &-control {
      &-input {
        & ~ .custom-control-label {
          color: $secondary; /* Fallback for older browsers */
        }

        &:checked ~ .custom-control-label {
          font-family: $headings-font-family;
          font-weight: $headings-font-weight;
        }

        &:not(:checked) ~ .custom-control-label {
          color: transparentize($color: $secondary, $amount: 0.5);

          &::before {
            background: linear-gradient(0deg, #f2f4f7 0%, #feffff 100%);
          }
        }
      }

      &-panel {
        margin-top: 5px;
        min-height: 35px;
      }
    }

    &-select {
      background-position: calc(100% - 15px);
      color: transparentize($color: $secondary, $amount: 0.5);

      &:focus {
        color: $secondary;
      }

      &--date {
        position: relative;
        padding-left: 40px;
        &::-webkit-inner-spin-button {
          display: none;
        }
        &::-webkit-calendar-picker-indicator {
          width: 100%;
          height: 100%;
          background-image: url("data:image/svg+xml,%3Csvg height='16' viewBox='0 0 16 16' width='16' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='m19 21h2v-2h-2zm0 3h2v-2h-2zm3-3h2v-2h-2zm0 3h2v-2h-2zm3-3h2v-2h-2zm0 3h2v-2h-2zm4-6c0-.552-.448-1-1-1h-10c-.552 0-1 .448-1 1v7c0 .552.448 1 1 1h10c.552 0 1-.448 1-1zm0 10h-12c-1.104 0-2-.895-2-2v-12c0-1.105.896-2 2-2h2v1c0 .552.448 1 1 1s1-.448 1-1v-1h4v1c0 .552.448 1 1 1s1-.448 1-1v-1h2c1.105 0 2 .895 2 2v12c0 1.105-.895 2-2 2z' fill='%233d5372' fill-rule='evenodd' opacity='.497024' transform='translate(-15 -12)'/%3E%3C/svg%3E");
          background-size: 16px;
          background-position: 12px;
          position: absolute;
          left: -25px;

          &:focus {
            outline: 0;
          }
        }
      }
    }
  }

  .upload-step & {
    padding: 30px 40px;
    background-color: $aqua-haze;
    border-bottom-left-radius: 5px;
    border-bottom-right-radius: 5px;

    &--icon-rows {
      padding-left: 20px;

      > .form-row {
        margin-bottom: 8px;
      }

      .form-group {
        margin-bottom: 22px;

        label {
          margin-bottom: 0;
        }
      }
    }
  }

  .signup-steps-row {
    margin-bottom: 0;
  }

  .signup-steps {
    // Wider screens have columns for form tiles
    @include media-breakpoint-up(md) {
      &-row {
        @include make-row;

        margin-left: -10px;
        margin-right: -10px;
      }

      &-col {
        &3 {
          @include make-col-ready;
          @include make-col(3);

          padding-left: 15 / 2 + px;
          padding-right: 15 / 2 + px;
        }

        &6 {
          @include make-col-ready;
          @include make-col(6);
        }
      }
    }
  }

  .form-control-tile-label {
    padding: 5px 12px;

    > svg {
      margin-right: 0.25rem;
    }
  }

  .form-control-tile {
    // overflow: hidden;
    margin-bottom: 20 / 16 + rem;

    &-label {
      position: relative;
      background-color: $white;
      border-radius: 3px;
      border: 1px solid $mischka;
      cursor: pointer;
      display: block;
      font-size: 16 / 16 + rem;
      font-weight: normal !important;
      padding: 15px 15px 40px;
      position: relative;
      margin-bottom: 0;
      text-align: center;
      transition: border-color ease 0.18s;
      user-select: none;

      &:hover {
        border-color: $shamrock;

        > svg {
          fill: $shamrock;

          .svg-fill {
            fill: $cruise;
          }

          .svg-stroke {
            stroke: $shamrock;
          }
        }
      }

      .form-group & {
        color: $regent-gray;
      }

      > svg {
        display: block;
        margin: 0 auto;
        fill: $regent-gray;
        transition: fill ease-in-out 0.18s;
        .svg-fill {
          fill: $mischka;
          transition: fill ease-in-out 0.18s;
        }

        .svg-stroke {
          stroke: $regent-gray;
          transition: stroke ease-in-out 0.18s;
        }
      }
    }

    input[type="checkbox"],
    input[type="radio"] {
      position: absolute;
      z-index: -1;
      opacity: 0;

      &:checked {
        + label {
          border-color: $shamrock;
          background-color: transparentize($color: $shamrock, $amount: 0.9);

          > svg {
            fill: $shamrock;

            .svg-fill {
              fill: $cruise;
            }

            .svg-stroke {
              stroke: $shamrock;
            }
          }

          .form-control-tile {
            &-title {
              color: $secondary;
            }
            &-check {
              &::before {
                transform: translate(0, 0);
              }

              &::after {
                opacity: 1;
              }
            }
          }
        }
      }
    }

    &-title {
      position: absolute;
      font-size: $font-size-small;
      margin-top: 0.5rem;
      color: $raven;
      text-transform: none;
      left: 0;
      width: 100%;
    }

    &-description {
      font-style: normal;
      font-size: 14 / 16 + rem;
    }

    &-check {
      height: 40px;
      // opacity: 0;
      overflow: hidden;
      position: absolute;
      right: 0;
      top: 0;
      transition: opacity ease 0.28s;
      width: 40px;

      &::before,
      &::after {
        content: "";
        display: block;
        position: absolute;
      }

      &::before {
        border-style: solid;
        border-width: 0 40px 40px 0;
        border-color: transparent $shamrock transparent transparent;
        transition: transform ease 0.28s;
        transform: translate(100%, -100%);
        z-index: 1;
      }

      &::after {
        background-image: url("data:image/svg+xml,%3Csvg height='9' viewBox='0 0 12 9' width='12' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='m778.921953 293.707368-2.751221-2.65263-1.170732 1.13684 3.921953 3.808422 8.078047-7.84421-1.17073-1.15579z' fill='%23fff' fill-rule='evenodd' transform='translate(-775 -287)'/%3E%3C/svg%3E");
        background-repeat: no-repeat;
        background-position: center;
        z-index: 2;
        height: 9px;
        right: 5px;
        transition: opacity ease 0.28s 0.18s;
        opacity: 0;
        top: 6px;
        width: 12px;
      }
    }
  }
}
